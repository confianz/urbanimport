<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <record id="view_order_form_with_carrier_inherit_shipstation" model="ir.ui.view">
        <field name="name">delivery.sale.order.form.view.with_carrier.inherit.shipstation.shipping</field>
        <field name="model">sale.order</field>
        <field name="inherit_id" ref="delivery.view_order_form_with_carrier" />
        <field name="arch" type="xml">
            <div name="button_box" position="after">
                <widget name="web_ribbon" title="Awaiting Shipment" bg_color="bg-secondary"
                    attrs="{'invisible': [('shipstation_order_state', '!=', 'waiting')]}" />
                <widget name="web_ribbon" title="Ready Shipment" bg_color="bg-primary"
                    attrs="{'invisible': [('shipstation_order_state', '!=', 'shipped')]}" />
            </div>
            <notebook position="inside">
                <page string="Shipping Info">
                    <group>
                        <group>
                            <field name="is_shipstation_shipping" />
                        </group>
                        <group>
                            <label for="weight" />
                            <div class="o_row" name="weight">
                                <field name="weight" readonly="1" force_save="1" id="weight" />
                                <span>
                                    <field name="weight_uom_name" readonly="1" id="weight_uom_name" />
                                </span>
                            </div>
                        </group>
                    </group>
                    <group>
                        <group>
                            <field name="shipstation_order_id" readonly="1" />
                            <field name="shipstation_order_key" readonly="1" />
                            <field name="shipstation_tracking_number" readonly="1" />
                            <field name="shipstation_order_state" invisible="1" />
                        </group>
                        <group>
                            <field name="shipstation_account_id" invisible="1"  />
                            <field name="shipstation_carrier_id" readonly="1" />
                            <field name="shipstation_service_id" readonly="1" />
                            <field name="shipstation_package_id" domain="[('carrier_id', '=', shipstation_carrier_id)]"
                                attrs="{'readonly': [('shipstation_package_id', '!=', False)]}" />
                        </group>
                    </group>
                </page>
            </notebook>
        </field>
    </record>

</odoo>
